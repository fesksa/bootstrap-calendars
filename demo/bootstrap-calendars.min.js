/*
   Bootstrap-Calendars
   Written by Faris Alsalama December 2015
   The MIT License (MIT)
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(t,e,i){this._hour=t,this._minute=e,this._second=i,this._bubble=0}function e(e,i){this._date=void 0===e?$.calendars.instance().today():e,this._time=void 0===i?new t(0,0,0):i,this._isCDateTime=!0}function i(t,i,s){return 1==arguments.length&&(null!=(a=t)&&"[object Object]"===Object.prototype.toString.call(a))?new e(t._date,t._time):arguments.length>=2?(new e).strptime(t,"string"!=typeof i?i[0]:i):new e;var a}function s(){return i.apply(null,arguments)}$.extend(t.prototype,{set:function(t,e){var i="h"===e?t:this._hour,s="m"===e?t:this._minute,a="s"===e?t:this._second;return(a<0||a>=60)&&(s+=Math.floor(a/60),a=(a%=60)<0?a+60:a),(s<0||s>=60)&&(i+=Math.floor(s/60),s=(s%=60)<0?s+60:s),(i<0||i>=24)&&(this._bubble=Math.floor(i/24),i=(i%=24)<0?i+24:i),this.validate(i,s,a),this._hour=i,this._minute=s,this._second=a,this},add:function(t,e){var i="h"===e?this._hour+t:"m"===e?this._minute+t:"s"===e?this._second+t:0;return this.set(i,e)},validate:function(t,e,i){if(t<0||t>24||24===t&&(0!==e||0!==i||0!==millisecond)||(e<0||e>59||(i<0||i>59)))throw"Invalid time: {0}:{1}:{2} {4}".replace(/\{0\}/,t).replace(/\{1\}/,e).replace(/\{2\}/,i)},compareTo:function(t){return this._hour>t._hour?1:this._hour<t._hour?-1:this._minute>t._minute?1:this._minute<t._minute?-1:this._second>t._second?1:this._second<t._second?-1:0}}),$.calendars.cdate.prototype.toString=function(){return this.day()};var a=e.prototype;return s.localeData=a.localeData=function(t){return this},s.longDateFormat=a.longDateFormat=function(t){return this._map_specifiers(t)},s.clone=a.clone=function(){var i=this._date.newDate(),s=new t;return $.extend(s,this._time),new e(i,s)},s.locale=a.locale=function(t){if(0===arguments.length||void 0===t.lang)return this;var e=$.calendars.instance(t.calender,t.lang);return this._date=e.isValid(this._date.year(),this._date.month(),this._date.day())?e.newDate(this._date.year(),this._date.month(),this._date.day()):e.today(),this},s.date=a.date=function(t){return 0===arguments.length?this._date:(this.day(t),this)},s.second=a.second=function(t){return 0===arguments.length?this._time._second:this._time._second=t},s.minute=a.minute=function(t){return 0===arguments.length?this._time._minute:(this._time._minute=t,this)},s.hour=a.hour=function(t){return 0===arguments.length?this._time._hour:(this._time._hour=t,this)},s.day=a.day=function(t){return 0===arguments.length?this._date.day():this._date.day(t)},s.month=a.month=function(t){return 0===arguments.length?this._date.month()-1:(this._date.month(t+1),this)},s.weekday=a.weekday=function(){return this._date.dayOfWeek()},s.year=a.year=function(t){return 0===arguments.length?this._date.year():this._date.year(t)},s.add=a.add=function(t,e){switch(e){case"M":this._date.add(t,"m");break;case"y":case"w":case"d":this._date.add(t,e);break;case"h":case"m":case"s":this._time.add(t,e),0!==this._time._bubble&&(this._date.add(this._time._bubble,"d"),this._time._bubble=0)}return this},s.subtract=a.subtract=function(t,e){return this.add(-t,e)},s.startOf=a.startOf=function(t){switch(t){case"y":this._date.month(1);case"M":this._date.day(1);case"w":case"d":this._time._hour=0;case"h":this._time._minute=0;case"m":this._time._second=0}return"w"===t&&this.add(-this._date.dayOfWeek(this._date),"d"),this},s.endOf=a.endOf=function(t){switch(t){case"y":this._date.month(this._date.calendar().monthsInYear(this.year()));case"M":this._date.day(this._date.calendar().daysInMonth(this._date));case"w":case"d":this._time._hour=23;case"h":this._time._minute=59;case"m":this._time._second=59}return"w"===t&&this.add(this._date.calendar().daysInWeek()-this._date.calendar().dayOfWeek(this._date),"d"),this},s.isAfter=a.isAfter=function(t,e){return e=void 0===e?"d":e,1===this.compareTo(t,e)},s.isBefore=a.isBefore=function(t,e){return e=void 0===e?"d":e,-1===this.compareTo(t,e)},s.isSame=a.isSame=function(t,e){return null!==t&&0===this.compareTo(t,e)},s.compareTo=a.compareTo=function(t,e){return this._date.year()>t._date.year()?1:this._date.year()<t._date.year()?-1:"y"===e?0:this._date.month()>t._date.month()?1:this._date.month()<t._date.month()?-1:"M"===e?0:this._date.day()>t._date.day()?1:this._date.day()<t._date.day()?-1:"d"===e?0:this._time._hour>t._time._hour?1:this._time._hour<t._time._hour?-1:"h"===e?0:this._time._minute>t._time._minute?1:this._time._minute<t._time._minute?-1:"s"===e?0:this._time._second>t._time._second?1:this._time._second<t._time._second?-1:0},s.isBetween=a.isBetween=function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},s.isValid=a.isValid=function(t,e){return!0},s.isMoment=a.isMoment=function(t){return t instanceof e||null!=t&&!0===t._isCDateTime},s.format=a.format=function(t){return t=this._map_specifiers(t),this._format(t)},s.strptime=a.strptime=function(t,e){return e=this._map_specifiers(e),this._strptime(t,e)},a._format=function(t){for(var e="",i=!1,s=null,a=0;a<t.length;a++)if("%"!==(s=t.charAt(a)))if(!1!==i)if(i=!1,"W"===s)e+=this._date.calendar().local.dayNames[this._date.day()-1];else if("w"===s)e+=this._date.calendar().local.dayNamesMin[this._date.dayOfWeek()];else if("B"===s)e+=this._date.calendar().local.monthNames[this._date.month()-1];else if("b"===s)e+=this._date.calendar().local.monthNamesShort[this._date.month()-1];else if("d"===s)e+=this._date.day()<10?"0"+this._date.day():this._date.day();else if("H"===s)e+=this._time._hour<10?"0"+this._time._hour:this._time._hour;else if("h"===s){var n=this._time._hour%12||12;e+=n<10?"0"+n:n}else e+="M"===s?this._time._minute<10?"0"+this._time._minute:this._time._minute:"m"===s?this._date.month()<10?"0"+this._date.month():this._date.month():"a"===s?this._time._hour>11?"PM":"AM":"S"===s?this._time._second<10?"0"+this._time._second:this._time._second:"Y"===s?this._date.year():t[a];else e+=t[a];else i=!0;return e},a._strptime=function(t,e){for(var i=!1,s=null,a=0,n=0,h=0;h<e.length;h++)"%"!==(s=e.charAt(h))?!1!==i?(i=!1,"W"===s?(n=this._indexOfSubStr(t,this._date.calendar().local.dayNames),this._date.day(n+1),a+=this._date.calendar().local.dayNames[n].length):"w"===s?(n=this._indexOfSubStr(t,this.date().calendar().local.dayNamesMin),this.date().day(n+1),a+=this.date().calendar().local.dayNamesMin[n].length):"B"===s?(n=this._indexOfSubStr(t,this.date().calendar().local.monthNames),this.date().month(n+1),a+=this.date().calendar().local.monthNames[n].length):"b"===s?(n=this._indexOfSubStr(t,this.date().calendar().local.monthNamesShort),this.date().month(n+1),a+=this.date().calendar().local.monthNamesShort[n].length):"d"===s?(this.date().day(parseInt(t.substr(a,2))),a+=2):"H"===s?(this._time._hour=parseInt(t.substr(a,2)),a+=2):"h"===s?(this._time._hour=parseInt(t.substr(a,2)),a+=2):"M"===s?(this._time._minute=parseInt(t.substr(a,2)),a+=2):"m"===s?(this.date().month(parseInt(t.substr(a,2))),a+=2):"a"===s?(1===(n=this._indexOfSubStr(t.substr(a),["AM","PM"]))&&this._time.add(12,"h"),a+=2):"S"===s?(this._time._second=parseInt(t.substr(a,2)),a+=2):"Y"===s?(this.date().year(parseInt(t.substr(a,4))),a+=4):a++):a++:i=!0;return this},a._map_specifiers=function(t){for(var e=[["dddd","%W"],["ddd","%w"],["dd","%w"],["MMMM","%B"],["MMM","%b"],["DD","%d"],["HH","%H"],["hh","%h"],["mm","%M"],["MM","%m"],["A","%a"],["SS","%S"],["ss","%S"],["X","%s"],["YYYY","%Y"],["LT","%h:%M %a"],["L","%m/%d/%Y"]],i=0;i<e.length;i++)t=t.replace(e[i][0],e[i][1]);return t},a._indexOfSubStr=function(t,e){var i;for(i=0;i<e.length;i++)if(~t.indexOf(e[i]))return i;return-1},a.hours=a.hour,a.minutes=a.minute,a.seconds=a.second,s});